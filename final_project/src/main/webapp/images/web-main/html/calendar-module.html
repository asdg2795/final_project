<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        table {
            border-collapse: collapse;
            width: 630px;
            height: 500px;
        }

        th,
        td {
            width: 90px;
            height: 66.67px;
            text-align: left;
            padding: 10px;
            border: 1px solid #ccc;
            overflow: hidden;
            position: relative;
            box-sizing: border-box;
            font-size: 15px;
        }

        th {
            background-color: #F2F2F2;
        }

        .emoji-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background-color: #fff;
            border: 1px solid #ccc;
            padding: 5px;
        }

        .emoji-menu button {
            border: none;
            background: none;
            cursor: pointer;
        }

        .selected {
            background-color: #E0E0E0;
        }

        .emoji-container {
            text-align: center;
            display: flex;
            width: 100%;
            justify-content: flex-start;
            align-items: center;
            /* Ïù¥Î™®Ìã∞ÏΩòÏùÑ ÏôºÏ™Ω Ï†ïÎ†¨Î°ú ÏÑ§Ï†ï */
        }

        .emoji-text {
            text-align: right;
            display: inline;
            font-size: 24px;
        }

        .number-text {
            text-align: left;
            padding-left: 5px;
            display: block;
        }

        td {
            vertical-align: middle;
        }

        .check-mark {
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 16px;
            color: green;
        }
    </style>
</head>

<body>
    <button onclick="previousMonth()">Ïù¥Ï†Ñ Îã¨</button>
    <button onclick="nextMonth()">Îã§Ïùå Îã¨</button>
    <h2 id="currentMonthYear">Ïõî/ÎÖÑ</h2>
    <table id="calendar">
        <thead>
            <tr>
                <th>Ïùº</th>
                <th>Ïõî</th>
                <th>Ìôî</th>
                <th>Ïàò</th>
                <th>Î™©</th>
                <th>Í∏à</th>
                <th>ÌÜ†</th>
            </tr>
        </thead>
        <tbody id="calendarBody">
        </tbody>
    </table>
    <div class="emoji-menu" id="emojiMenu">
        <button onclick="insertEmoji('üëç')">üëç</button>
        <button onclick="insertEmoji('ü§î')">ü§î</button>
        <button onclick="insertEmoji('üòé')">üòé</button>
        <!-- Îã§Î•∏ Ïù¥Î™®Ìã∞ÏΩòÏùÑ Ï∂îÍ∞ÄÌï† Ïàò ÏûàÏäµÎãàÎã§. -->
    </div>
    <script>
        const calendarBody = document.getElementById('calendarBody');
        const currentMonthYear = document.getElementById('currentMonthYear');
        const emojiMenu = document.getElementById('emojiMenu');
        let currentDate = new Date();
        let selectedCell = null;
        function generateCalendar(year, month) {
            calendarBody.innerHTML = '';
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const firstDay = new Date(year, month, 1).getDay();
            currentMonthYear.textContent = `${month + 1}Ïõî ${year}ÎÖÑ`;
            let day = 1;
            for (let i = 0; i < 6; i++) {
                const row = document.createElement('tr');
                for (let j = 0; j < 7; j++) {
                    const cell = document.createElement('td');
                    if (i === 0 && j < firstDay) {
                        cell.textContent = '';
                    } else if (day > daysInMonth) {
                        cell.textContent = '';
                    } else {

                        cell.textContent = day++;

                        cell.addEventListener('click', (event) => {
                            selectedCell = event.target;
                            if (selectedCell.tagName === 'SPAN') {
                                selectedCell = selectedCell.parentNode;
                            }
                            emojiMenu.style.display = 'block';
                            emojiMenu.style.left =
                                selectedCell.offsetLeft + 'px';
                            emojiMenu.style.top =
                                selectedCell.offsetTop +
                                selectedCell.offsetHeight + 'px';
                        });
                    }

                    row.appendChild(cell);
                }

                calendarBody.appendChild(row);
            }

            // ÎßàÏßÄÎßâ Ìñâ Ïà®Í∏∞Í∏∞
            calendarBody.lastElementChild.style.display =
                'none';
        }

        function insertEmoji(emoji) {
            emojiMenu.style.display = 'none';

            if (selectedCell) {
                var originalContent = selectedCell.textContent;

                // If there is a check mark in the content then replace the existing emoji with the new one
                if (originalContent.includes('‚úì')) {
                    var updatedContent = originalContent.slice(0, originalContent.indexOf(" ")) + ' ' + emoji;

                    selectedCell.textContent = updatedContent;

                    // Remove old check mark if exists
                    if (selectedCell.querySelector('.check-mark')) {
                        selectedCell.removeChild(selectedCell.querySelector('.check-mark'));
                    }

                    // Add new check mark
                    var checkMark = document.createElement('span');
                    checkMark.className = 'check-mark';
                    checkMark.textContent = '‚úì';

                    selectedCell.appendChild(checkMark);
                } else {
                    var updatedContent = originalContent + ' ' + emoji;

                    selectedCell.textContent = updatedContent;

                    // Add new check mark
                    var checkMark = document.createElement('span');
                    checkMark.className = 'check-mark';
                    checkMark.textContent = '‚úì';

                    selectedCell.appendChild(checkMark);
                }
            }
        }

        generateCalendar(currentDate.getFullYear(), currentDate.getMonth());
    </script>

</body>

</html>

<!-- checkMark.className = 'check-mark';
                checkMark.textContent = '‚úì';
                selectedCell.appendChild(checkMark); -->

<!-- .check-mark {
            font-size: 16px;
            color: green; -->